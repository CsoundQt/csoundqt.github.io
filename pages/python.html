<!DOCTYPE html>
<html lang="en">
<head>

        <title>Python</title>
        <meta charset="utf-8" />


        <!-- Mobile viewport optimized: j.mp/bplateviewport -->
        <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">

        <link rel="stylesheet" type="text/css" href="../theme/gumby.css" />
        <link rel="stylesheet" type="text/css" href="../theme/style.css" />
        <link rel="stylesheet" type="text/css" href="../theme/pygment.css" />

        <script src="../theme/js/libs/modernizr-2.6.2.min.js"></script>






</head>

<body id="index" class="home">


    <div class="container">

        <div class="row">

          <header id="banner" class="body">
                  <h1><a href="..">CsoundQt <strong></strong></a></h1>
          </header><!-- /#banner -->

            <div id="navigation" class="navbar row">
              <a href="#" gumby-trigger="#navigation &gt; ul" class="toggle"><i class="icon-menu"></i></a>
             
              <ul class="columns">
                <li><a href="..">Home</a></li>

                <li><a href="/pages/about.html">About</a></li>
                <li><a href="/pages/install.html">Install</a></li>
                <li><a href="/pages/documentation.html">Documentation</a></li>
                <li><a href="/pages/contribute.html">Contribute</a></li>
                <li><a href="/pages/people.html">People</a></li>
                <li><a href="/pages/help.html">Help</a></li>

              </ul>
            </div>

    <h1>Python</h1>
    

    <p><em>(This page has been taken from <a href="http://floss.booktype.pro/csound/c-python-in-csoundqt/">chapter 12C</a> in the <a href="http://floss.booktype.pro/csound/">Csound FLOSS Manual</a>.)</em></p>
<p>If CsoundQt is built with PythonQt support,  it enables a lot of new possibilities, mostly in three main fields: interaction with the CsoundQt interface, interaction with widgets and using classes from Qt libraries to build custom interfaces in python.</p>
<p>If you start CsoundQt and can open the panels "Python Console" and "Python Scratch Pad", you are ready to go. </p>
<p><img alt="python scratch pad" src="../images/12C_00.png"></p>
<h2>The CsoundQt Python Object</h2>
<p>As CsoundQt has formerly been called QuteCsound, this name can still be found in the sources. The QuteCsound object (called PyQcsObject in the sources) is the interface for scripting CsoundQt. All declarations of the class can be found in the file pyqcsobject.h in the sources.</p>
<p>It enables the control of a large part of CsoundQt's possibilities from the python interpreter, the python scratchpad, from scripts or from inside of a running Csound file via Csound's python opcodes.</p>
<p>By default, a PyQcsObject is already available in the python interpreter of CsoundQt called “q”. To use any of its methods, use form like</p>
<p><code>q.stopAll()</code></p>
<p>The methods can be divided into four groups:</p>
<ol>
<li>access CsoundQt's interface (open or close files, start or stop performance etc)</li>
<li>edit Csound files which has already been opened as tabs in CsoundQt</li>
<li>manage CsoundQt's widgets</li>
<li>interface with the running Csound engine</li>
</ol>
<h2>File and Control Access</h2>
<p>If you have CsoundQt running on your computer, you should type the following code examples in the Python Console (if only one line) or the Python Scratch Pad (if more than one line of code).</p>
<h3>Create or Load a csd File</h3>
<p>Type <code>q.newDocument('cs_floss_1.csd')</code> in your Python Console and hit the Return key. This will create a new csd file named "cs_floss_1.csd" in your working directory. And it also returns an integer (in the screenshot below: 3) as index for this file. </p>
<p><img alt="csd file generation" src="../images/12C_01.png"></p>
<p>If you close this file and then execute the line <code>q.loadDocument('cs_floss_1.csd')</code>, you should see the file again as tab in CsoundQt.</p>
<p>Let us have a look how these two methods <code>newDocument</code> and <code>loadDocument</code> are described in the sources:</p>
<div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">newDocument</span><span class="p">(</span><span class="n">QString</span> <span class="n">name</span><span class="p">)</span>
<span class="nb">int</span> <span class="n">loadDocument</span><span class="p">(</span><span class="n">QString</span> <span class="n">name</span><span class="p">,</span> <span class="n">bool</span> <span class="n">runNow</span> <span class="o">=</span> <span class="k">false</span><span class="p">)</span>
</pre></div>


<p>The method <code>newDocument</code> needs a name as string ("QString") as argument, and returns an integer. The method <code>loadDocument</code> also takes a name as input string and returns an integer as index for this csd. The additional argument <code>runNow</code> is optional. It expects a boolean value (True/False or 1/0). The default is "false" which means "do not run immediately after loading". So if you type instead <code>q.loadDocument('cs_floss_1.csd', True)</code> or <code>q.loadDocument('cs_floss_1.csd', 1)</code>, the csd file should start immediately. </p>
<h3>Run, Pause or Stop a csd File</h3>
<p>For the next methods, we first need some more code in our csd. So let your "cs_floss_1.csd" look like this:</p>
<div class="highlight"><pre><span></span><span class="nt">&lt;CsoundSynthesizer&gt;</span>
<span class="nt">&lt;CsOptions&gt;</span>
<span class="nt">&lt;/CsOptions&gt;</span>
<span class="nt">&lt;CsInstruments&gt;</span>
sr = 44100
ksmps = 32
0dbfs = 1
nchnls = 1

giSine     ftgen      0, 0, 1024, 10, 1

instr 1
kPitch     expseg     500, p3, 1000
aSine      poscil     .2, kPitch, giSine
           out        aSine
endin
<span class="nt">&lt;/CsInstruments&gt;</span>
<span class="nt">&lt;CsScore&gt;</span>
i 1 0 10
<span class="nt">&lt;/CsScore&gt;</span>
<span class="nt">&lt;/CsoundSynthesizer&gt;</span>
</pre></div>


<p>This instrument performs a simple pitch glissando from 500 to 1000 Hz in ten seconds. Now make sure that this csd is the currently active tab in CsoundQt, and execute this:</p>
<div class="highlight"><pre><span></span><span class="n">q</span><span class="p">.</span><span class="n">play</span><span class="p">()</span>
</pre></div>


<p>This starts the performance. If you do nothing, the performance will stop after ten seconds. If you type instead after some seconds</p>
<div class="highlight"><pre><span></span><span class="nv">q</span>.<span class="k">pause</span><span class="ss">()</span>
</pre></div>


<p>the performance will pause. The same task <code>q.pause()</code> will resume the performance. Note that this is different from executing <code>q.play()</code> after <code>q.pause()</code> ; this will start a new performance. With</p>
<div class="highlight"><pre><span></span><span class="n">q</span><span class="p">.</span><span class="n">stop</span><span class="p">()</span>
</pre></div>


<p>you can stop the current performance. </p>
<h3>Access to Different csd Tabs via Indices</h3>
<p>The <code>play()</code>, <code>pause()</code> and <code>stop()</code> method, as well as other methods in CsoundQt's integrated Python, allow also to access csd file tabs which are not currently active. As we saw in the creation of a new csd file by <code>q.newDocument('cs_floss_1.csd')</code>, each of them gets an index. This index allows universal access to all csd files in a running CsoundQt instance.</p>
<p>First, create a new file "cs_floss_2.csd", for instance with this code:</p>
<div class="highlight"><pre><span></span><span class="nt">&lt;CsoundSynthesizer&gt;</span>
<span class="nt">&lt;CsOptions&gt;</span>
<span class="nt">&lt;/CsOptions&gt;</span>
<span class="nt">&lt;CsInstruments&gt;</span>
sr = 44100
ksmps = 32
0dbfs = 1
nchnls = 1

giSine     ftgen      0, 0, 1024, 10, 1

instr 1
kPitch     expseg     500, p3, 1000
aSine      poscil     .2, kPitch, giSine
           out        aSine
endin
<span class="nt">&lt;/CsInstruments&gt;</span>
<span class="nt">&lt;CsScore&gt;</span>
i 1 0 10
<span class="nt">&lt;/CsScore&gt;</span>
<span class="nt">&lt;/CsoundSynthesizer&gt;</span>
</pre></div>


<p>Now get the index of these two tabs in executing <code>q.getDocument('cs_floss_1.csd')</code> resp. <code>q.getDocument('cs_floss_2.csd')</code> . This will show something like this:</p>
<p><img alt="csd index" src="../images/12C_02.png"></p>
<p>So in my case the indices are 3 and 4.5  Now you can start, pause and stop any of these files with tasks like these:</p>
<div class="highlight"><pre><span></span><span class="n">q</span><span class="p">.</span><span class="n">play</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">q</span><span class="p">.</span><span class="n">play</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">q</span><span class="p">.</span><span class="n">stop</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">q</span><span class="p">.</span><span class="n">stop</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>


<p>If you have checked "Allow simultaneous play" in CsoundQt's Configure-&gt;General ...</p>
<p><img alt="allow simultaneous" src="../images/12C_03.png"></p>
<p>.. you should be able to run both csds simultaneously. To stop all running files, use:</p>
<div class="highlight"><pre><span></span><span class="n">q</span><span class="p">.</span><span class="n">stopAll</span><span class="p">()</span>
</pre></div>


<p>To set a csd as active, use <code>setDocument(index)</code>. This will have the same effect as clicking on the tab.</p>
<h3>Send Score Events</h3>
<p>Now comment out the score line in the file "cs_floss_2.csd", or simply remove it. When you now start Csound, this tab should run. Now execute this command:</p>
<div class="highlight"><pre><span></span><span class="n">q</span><span class="p">.</span><span class="n">sendEvent</span><span class="p">(</span><span class="s1">&#39;i 1 0 2&#39;</span><span class="p">)</span>
</pre></div>


<p>This should trigger instrument 1 for two seconds.</p>
<h3>Query File Name or Path</h3>
<p>In case you need to know the name or the path of a csd file, you have these functions:</p>
<div class="highlight"><pre><span></span><span class="n">getFileName</span><span class="p">()</span>
<span class="n">getFilePath</span><span class="p">()</span>
</pre></div>


<p>Calling the method without any arguments, it refers to the currently active csd. An index as argument links to a specific tab. Here is a Python code snippet which returns indices, file names and file paths of all tabs in CsoundQt:</p>
<div class="highlight"><pre><span></span><span class="nv">index</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="nv">q</span>.<span class="nv">getFileName</span><span class="ss">(</span><span class="nv">index</span><span class="ss">)</span>:
    <span class="nv">print</span> <span class="s1">&#39;</span><span class="s">index = %d</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nv">index</span>
    <span class="nv">print</span> <span class="s1">&#39;</span><span class="s"> File Name = %s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nv">q</span>.<span class="nv">getFileName</span><span class="ss">(</span><span class="nv">index</span><span class="ss">)</span>
    <span class="nv">print</span> <span class="s1">&#39;</span><span class="s"> File Path = %s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nv">q</span>.<span class="nv">getFilePath</span><span class="ss">(</span><span class="nv">index</span><span class="ss">)</span>
    <span class="nv">index</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>


<p>Which returns for instance:<br>
    index = 0
    File Name = /home/jh/Joachim/Stuecke/30Carin/csound/130328.csd
    File Path = /home/jh/Joachim/Stuecke/30Carin/csound
    index = 1
    File Name = /home/jh/src/csoundmanual/examples/transegr.csd
    File Path = /home/jh/src/csoundmanual/examples
    index = 2
    File Name = /home/jh/Arbeitsfläche/test.csd
    File Path = /home/jh/Arbeitsfläche
    index = 3
    File Name = /home/jh/Joachim/Csound/FLOSS/Release03/Chapter_12C_PythonInCsoundQt/cs_floss_1.csd
    File Path = /home/jh/Joachim/Csound/FLOSS/Release03/Chapter_12C_PythonInCsoundQt
    index = 4
    File Name = /home/jh/Joachim/Csound/FLOSS/Release03/Chapter_12C_PythonInCsoundQt/cs_floss_2.csd
    File Path = /home/jh/Joachim/Csound/FLOSS/Release03/Chapter_12C_PythonInCsoundQt   </p>
<h2>Get and Set csd Text</h2>
<p>One of the main features of Python scripting in CsoundQt is the ability to edit any section of a csd file. There are several "get" functions, to query text, and also "set" functions to change or insert text. </p>
<h3>Get Text from a csd File</h3>
<p>Make sure your "cs_floss_2.csd" is the active tab, and execute the following python code lines:</p>
<div class="highlight"><pre><span></span><span class="n">q</span><span class="p">.</span><span class="n">getCsd</span><span class="p">()</span>
<span class="n">q</span><span class="p">.</span><span class="n">getOrc</span><span class="p">()</span>
<span class="n">q</span><span class="p">.</span><span class="n">getSco</span><span class="p">()</span>
</pre></div>


<p>The <code>q.getOrc()</code> task should return this:</p>
<div class="highlight"><pre><span></span><span class="n">u</span><span class="s1">&#39;\nsr = 44100\nksmps = 32\n0dbfs = 1\nnchnls = 1\n\ngiSine     ftgen      0, 0, 1024, 10, 1\n\ninstr 1\nkPitch     expseg     1000, p3, 500\naSine      poscil     .2, kPitch, giSine\n           out        aSine\nendin\n&#39;</span>
</pre></div>


<p>The u'...' indicates that a unicode string is returned. As usual in format expressions, newlines are indicated with the '\n' formatter.</p>
<p>You can also get the text for the <em>CsOptions</em>, the text for CsoundQt's widgets and presets, or the full text of this csd:</p>
<div class="highlight"><pre><span></span><span class="n">getOptionsText</span><span class="p">()</span>
<span class="n">getWidgetsText</span><span class="p">()</span>
<span class="n">getPresetsText</span><span class="p">()</span><span class="n">getCsd</span><span class="p">()</span>
<span class="n">getFullText</span><span class="p">()</span>
</pre></div>


<p>If you select some text or some widgets, you will get the selection with these commands:</p>
<div class="highlight"><pre><span></span><span class="n">getSelectedText</span><span class="p">()</span>
<span class="n">getSelectedWidgetsText</span><span class="p">()</span>
</pre></div>


<p>As usual, you can specify any of the loaded csds via its index. So calling <code>q.getOrc(3)</code> instead of <code>q.getOrc()</code> will return the orc text of the csd with index 3, instead of the orc text of the currently active csd. </p>
<h3>Set Text in a csd File</h3>
<p>Set the cursor anywhere in your active csd, and execute the following line in the Python Console:</p>
<div class="highlight"><pre><span></span><span class="n">q</span><span class="p">.</span><span class="n">insertText</span><span class="p">(</span><span class="s1">&#39;my nice insertion&#39;</span><span class="p">)</span>
</pre></div>


<p>You will see your nice insertion in the csd file. In case you do not like it, you can choose Edit-&gt;Undo. It does not make a difference for the CsoundQt editor whether the text has been typed by hand, or by the internal Python script facility.</p>
<p>Text can also be inserted to individual sections using the functions:</p>
<div class="highlight"><pre><span></span><span class="n">setCsd</span><span class="p">(</span><span class="nb">text</span><span class="p">)</span>
<span class="n">setFullText</span><span class="p">(</span><span class="nb">text</span><span class="p">)</span>
<span class="n">setOrc</span><span class="p">(</span><span class="nb">text</span><span class="p">)</span>
<span class="n">setSco</span><span class="p">(</span><span class="nb">text</span><span class="p">)</span>
<span class="n">setWidgetsText</span><span class="p">(</span><span class="nb">text</span><span class="p">)</span>
<span class="n">setPresetsText</span><span class="p">(</span><span class="nb">text</span><span class="p">)</span>
<span class="n">setOptionsText</span><span class="p">(</span><span class="nb">text</span><span class="p">)</span>
</pre></div>


<p>Note that the whole section will be overwritten with the string text. </p>
<h3>Opcode Exists</h3>
<p>You can ask whether a string is an opcode name, or not, with the function opcodeExtists, for instance:</p>
<div class="highlight"><pre><span></span><span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">opcodeExists</span><span class="p">(</span><span class="s1">&#39;line&#39;</span><span class="p">)</span>
<span class="k">True</span>
<span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">opcodeExists</span><span class="p">(</span><span class="s1">&#39;OSCsend&#39;</span><span class="p">)</span>
<span class="k">True</span>
<span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">opcodeExists</span><span class="p">(</span><span class="s1">&#39;Line&#39;</span><span class="p">)</span>
<span class="k">False</span>
<span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">opcodeExists</span><span class="p">(</span><span class="s1">&#39;Joe&#39;</span><span class="p">)</span>
<span class="n">NotYet</span>
</pre></div>


<h3>Example: Score Generation</h3>
<p>A typical application for setting text in a csd is to generate a score. There have been numerous tools and programs to do this, and it can be very pleasant to use CsoundQt's Python scripting for this task. Let us modify our previous instrument first to make it more flexible:</p>
<div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nv">CsoundSynthesizer</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nv">CsOptions</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="nv">CsOptions</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nv">CsInstruments</span><span class="o">&gt;</span>
<span class="nv">sr</span> <span class="o">=</span> <span class="mi">44100</span>
<span class="nv">ksmps</span> <span class="o">=</span> <span class="mi">32</span>
<span class="mi">0</span><span class="nv">dbfs</span> <span class="o">=</span> <span class="mi">1</span>
<span class="nv">nchnls</span> <span class="o">=</span> <span class="mi">1</span>

<span class="nv">giSine</span>     <span class="nv">ftgen</span>      <span class="mi">0</span>, <span class="mi">0</span>, <span class="mi">1024</span>, <span class="mi">10</span>, <span class="mi">1</span>

<span class="nv">instr</span> <span class="mi">1</span>
<span class="nv">iOctStart</span>  <span class="o">=</span>          <span class="nv">p4</span> <span class="c1">;pitch in octave notation at start</span>
<span class="nv">iOctEnd</span>    <span class="o">=</span>          <span class="nv">p5</span> <span class="c1">;and end</span>
<span class="nv">iDbStart</span>   <span class="o">=</span>          <span class="nv">p6</span> <span class="c1">;dB at start</span>
<span class="nv">iDbEnd</span>     <span class="o">=</span>          <span class="nv">p7</span> <span class="c1">;and end</span>
<span class="nv">kPitch</span>     <span class="nv">expseg</span>     <span class="nv">cpsoct</span><span class="ss">(</span><span class="nv">iOctStart</span><span class="ss">)</span>, <span class="nv">p3</span>, <span class="nv">cpsoct</span><span class="ss">(</span><span class="nv">iOctEnd</span><span class="ss">)</span>
<span class="nv">kEnv</span>       <span class="nv">linseg</span>     <span class="nv">iDbStart</span>, <span class="nv">p3</span>, <span class="nv">iDbEnd</span>
<span class="nv">aSine</span>      <span class="nv">poscil</span>     <span class="nv">ampdb</span><span class="ss">(</span><span class="nv">kEnv</span><span class="ss">)</span>, <span class="nv">kPitch</span>, <span class="nv">giSine</span>
<span class="nv">iFad</span>       <span class="k">random</span>     <span class="nv">p3</span><span class="o">/</span><span class="mi">20</span>, <span class="nv">p3</span><span class="o">/</span><span class="mi">5</span>
<span class="nv">aOut</span>       <span class="nv">linen</span>      <span class="nv">aSine</span>, <span class="nv">iFad</span>, <span class="nv">p3</span>, <span class="nv">iFad</span>
           <span class="nv">out</span>        <span class="nv">aOut</span>
<span class="nv">endin</span>
<span class="o">&lt;/</span><span class="nv">CsInstruments</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nv">CsScore</span><span class="o">&gt;</span>
<span class="nv">i</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">10</span> <span class="c1">;will be overwritten by the python score generator</span>
<span class="o">&lt;/</span><span class="nv">CsScore</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="nv">CsoundSynthesizer</span><span class="o">&gt;</span>
</pre></div>


<p>The following code will now insert 30 score events in the score section:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">uniform</span>
<span class="n">numScoEvents</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">sco</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="k">for</span> <span class="n">ScoEvent</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numScoEvents</span><span class="p">):</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
    <span class="n">dur</span> <span class="o">=</span> <span class="mi">2</span><span class="o">**</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">db1</span><span class="p">,</span> <span class="n">db2</span> <span class="o">=</span> <span class="p">[</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">36</span><span class="p">,</span> <span class="o">-</span><span class="mi">12</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">)]</span>
    <span class="n">oct1</span><span class="p">,</span> <span class="n">oct2</span> <span class="o">=</span> <span class="p">[</span><span class="n">uniform</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">)]</span>
    <span class="n">scoLine</span> <span class="o">=</span> <span class="s1">&#39;i 1 </span><span class="si">%f</span><span class="s1"> </span><span class="si">%f</span><span class="s1"> </span><span class="si">%f</span><span class="s1"> </span><span class="si">%f</span><span class="s1"> </span><span class="si">%d</span><span class="s1"> </span><span class="si">%d</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">dur</span><span class="p">,</span> <span class="n">oct1</span><span class="p">,</span> <span class="n">oct2</span><span class="p">,</span> <span class="n">db1</span><span class="p">,</span> <span class="n">db2</span><span class="p">)</span>
    <span class="n">sco</span> <span class="o">=</span> <span class="n">sco</span> <span class="o">+</span> <span class="n">scoLine</span>
<span class="n">q</span><span class="o">.</span><span class="n">setSco</span><span class="p">(</span><span class="n">sco</span><span class="p">)</span>
</pre></div>


<p>This generates a texture with either falling or rising gliding pitches. The durations are set in a way that shorter durations are more frequently than larger ones. The volume and pitch ranges allow many variations in the simple shape. </p>
<h2>Widgets</h2>
<h3>Creating a Label</h3>
<p>Click on the "Widgets" button to see the widgets panel. Then execute this command in the Python Console:</p>
<div class="highlight"><pre><span></span><span class="n">q</span><span class="p">.</span><span class="n">createNewLabel</span><span class="p">()</span>
</pre></div>


<p>The properties dialog of the label pops up. Type "Hello Label!" or something like this as text. </p>
<p><img alt="hello label" src="../images/12C_04.png"></p>
<p>When you click "Ok", you will see the label widget in the panel, and a strange unicode string as return value in the Python Console: </p>
<p><img alt="strange unicode" src="../images/12C_05.png"></p>
<p>The string <em>u'{3a171aa2-4cf8-4f05-9f30-172863909f56}'</em> is a "universally unique identifier" (uuid). Each widget can be accessed by this ID. </p>
<h3>Specifying the Common Properties as Arguments</h3>
<p>Instead of having a live talk with the properties dialog, we can specify all properties as arguments for the createNewLabel method:</p>
<div class="highlight"><pre><span></span><span class="n">q</span><span class="p">.</span><span class="n">createNewLabel</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="ss">&quot;second_label&quot;</span><span class="p">)</span>
</pre></div>


<p>This should be the result: </p>
<p><img alt="set props" src="../images/12C_06.png"></p>
<p>A new label has been created—without opening the properties dialog—at position x=200 y=1008 with the name "second_label". If you want to create a widget not in the active document, but in another tab, you can also specify the tab index. This command will create a widget at the same position and with the same name in the first tab:</p>
<div class="highlight"><pre><span></span><span class="n">q</span><span class="p">.</span><span class="n">createNewLabel</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="ss">&quot;second_label&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>


<p>Setting the Specific Properties</p>
<p>Each widget has a xy position and a channel name.  But the other properties depend on the type of widget. A Display has name, width and height, but no resolution like a SpinBox. The function setWidgetProperty refers to a widget via its ID and sets a property. Let us try this for a Display widget. This command creates a Display widget with channel name "disp_chan_01" at position x=50 y=150:</p>
<div class="highlight"><pre><span></span><span class="n">q</span><span class="p">.</span><span class="n">createNewDisplay</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="ss">&quot;disp_chan_01&quot;</span><span class="p">)</span>
</pre></div>


<p><img alt="create display" src="../images/12C_07.png"></p>
<p>And this sets the text to a new string:</p>
<div class="highlight"><pre><span></span><span class="n">q</span><span class="p">.</span><span class="n">setWidgetProperty</span><span class="p">(</span><span class="ss">&quot;disp_chan_01&quot;</span><span class="p">,</span> <span class="ss">&quot;QCS_label&quot;</span><span class="p">,</span> <span class="ss">&quot;Hey Joe!&quot;</span><span class="p">)</span>
</pre></div>


<p><img alt="create text" src="../images/12C_08.png"></p>
<p>The <code>setWidgetProperty</code> method needs the ID of a widget first. This can be expressed either as channel name ("disp_chan_01") as in the command above, or as uuid. As I got the string <em>u'{a71c0c67-3d54-4d4a-88e6-8df40070a7f5}'</em> as uuid, I can also write:</p>
<div class="highlight"><pre><span></span><span class="n">q</span><span class="p">.</span><span class="n">setWidgetProperty</span><span class="p">(</span><span class="n">u</span><span class="s1">&#39;{a71c0c67-3d54-4d4a-88e6-8df40070a7f5}&#39;</span><span class="p">,</span> <span class="ss">&quot;QCS_label&quot;</span><span class="p">,</span> <span class="ss">&quot;Hey Joeboe!&quot;</span><span class="p">)</span>
</pre></div>


<p>For humans, referring to the channel name as ID is probably preferable ...  - But as the <code>createNew...</code> method returns the uuid, you can use it implicitely, for instance in this command:</p>
<div class="highlight"><pre><span></span><span class="n">q</span><span class="p">.</span><span class="n">setWidgetProperty</span><span class="p">(</span><span class="n">q</span><span class="p">.</span><span class="n">createNewLabel</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="ss">&quot;WOW&quot;</span><span class="p">),</span> <span class="ss">&quot;QCS_fontsize&quot;</span><span class="p">,</span> <span class="mi">18</span><span class="p">)</span>
</pre></div>


<p><img alt="fontsize" src="../images/12C_09.png"></p>
<h3>Getting the Property Names and Values</h3>
<p>You may have asked how to know that the visible text of a Display widget is called "QCS_label" and the fontsize "QCS_fontsize". If you do not know the name of a property, ask CsoundQt for it via the function <code>listWidgetProperties</code>:</p>
<div class="highlight"><pre><span></span><span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">listWidgetProperties</span><span class="p">(</span><span class="ss">&quot;disp_chan_01&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="n">u</span><span class="s1">&#39;QCS_x&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;QCS_y&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;QCS_uuid&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;QCS_visible&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;QCS_midichan&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;QCS_midicc&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;QCS_label&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;QCS_alignment&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;QCS_precision&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;QCS_font&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;QCS_fontsize&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;QCS_bgcolor&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;QCS_bgcolormode&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;QCS_color&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;QCS_bordermode&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;QCS_borderradius&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;QCS_borderwidth&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;QCS_width&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;QCS_height&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;QCS_objectName&#39;</span><span class="p">)</span>
</pre></div>


<p>As you see, listWidgetProperties returns all properties in a tuple. You can query the value of a single property with the function getWidgetProperty, which takes the uuid and the property as inputs, and returns the property value. So this code snippet asks for all property values of our Display widget:</p>
<div class="highlight"><pre><span></span><span class="nv">widgetID</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="s">disp_chan_01</span><span class="s2">&quot;</span>
<span class="nv">properties</span> <span class="o">=</span> <span class="nv">q</span>.<span class="nv">listWidgetProperties</span><span class="ss">(</span><span class="nv">widgetID</span><span class="ss">)</span>
<span class="k">for</span> <span class="nv">property</span> <span class="nv">in</span> <span class="nv">properties</span>:
    <span class="nv">propVal</span> <span class="o">=</span> <span class="nv">q</span>.<span class="nv">getWidgetProperty</span><span class="ss">(</span><span class="nv">widgetID</span>, <span class="nv">property</span><span class="ss">)</span>
    <span class="nv">print</span> <span class="nv">property</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="s"> = </span><span class="s1">&#39;</span> <span class="o">+</span> <span class="nv">str</span><span class="ss">(</span><span class="nv">propVal</span><span class="ss">)</span>
</pre></div>


<p>Returns:
    QCS_x = 50
    QCS_y = 150
    QCS_uuid = {a71c0c67-3d54-4d4a-88e6-8df40070a7f5}
    QCS_visible = True
    QCS_midichan = 0
    QCS_midicc = -3
    QCS_label = Hey Joeboe!
    QCS_alignment = left
    QCS_precision = 3
    QCS_font = Arial
    QCS_fontsize = 10
    QCS_bgcolor = #ffffff
    QCS_bgcolormode = False
    QCS_color = #000000
    QCS_bordermode = border
    QCS_borderradius = 1
    QCS_borderwidth = 1
    QCS_width = 80
    QCS_height = 25
    QCS_objectName = disp_chan_01 </p>
<h3>Get the UUIDs of all Widgets</h3>
<p>For getting the uuid strings of all widgets in the active csd tab, type</p>
<div class="highlight"><pre><span></span><span class="n">q</span><span class="p">.</span><span class="n">getWidgetUuids</span><span class="p">()</span>
</pre></div>


<p><img alt="widget uuid" src="../images/12C_10.png"></p>
<p>As always, the uuid strings of other csd tabs can be accessed via the index. </p>
<h3>Some Examples for Creating and Modifying Widgets</h3>
<p>Create a new slider with the channel name "level" at position 10,10 in the (already open but not necessarily active) document "test.csd":</p>
<div class="highlight"><pre><span></span><span class="n">q</span><span class="p">.</span><span class="n">createNewSlider</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="ss">&quot;level&quot;</span><span class="p">,</span> <span class="n">q</span><span class="p">.</span><span class="n">getDocument</span><span class="p">(</span><span class="ss">&quot;test.csd&quot;</span><span class="p">))</span>
</pre></div>


<p>Create ten knobs with the channel names "partial_1", "partial_2" etc, and the according labels "amp_part_1", "amp_part_2" etc in the currently active document:</p>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="nv">no</span> <span class="nv">in</span> <span class="nv">range</span><span class="ss">(</span><span class="mi">10</span><span class="ss">)</span>:
    <span class="nv">q</span>.<span class="nv">createNewKnob</span><span class="ss">(</span><span class="mi">100</span><span class="o">*</span><span class="nv">no</span>, <span class="mi">5</span>, <span class="s2">&quot;</span><span class="s">partial_</span><span class="s2">&quot;</span><span class="o">+</span><span class="nv">str</span><span class="ss">(</span><span class="nv">no</span><span class="o">+</span><span class="mi">1</span><span class="ss">))</span>
    <span class="nv">q</span>.<span class="nv">createNewLabel</span><span class="ss">(</span><span class="mi">100</span><span class="o">*</span><span class="nv">no</span><span class="o">+</span><span class="mi">5</span>, <span class="mi">90</span>, <span class="s2">&quot;</span><span class="s">amp_part_</span><span class="s2">&quot;</span><span class="o">+</span><span class="nv">str</span><span class="ss">(</span><span class="nv">no</span><span class="o">+</span><span class="mi">1</span><span class="ss">))</span>
</pre></div>


<p>Alternatively, you can store the uuid strings while creating:</p>
<div class="highlight"><pre><span></span><span class="nv">knobs</span>, <span class="nv">labels</span> <span class="o">=</span> [], []
<span class="k">for</span> <span class="nv">no</span> <span class="nv">in</span> <span class="nv">range</span><span class="ss">(</span><span class="mi">10</span><span class="ss">)</span>:
    <span class="nv">knobs</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">q</span>.<span class="nv">createNewKnob</span><span class="ss">(</span><span class="mi">100</span><span class="o">*</span><span class="nv">no</span>, <span class="mi">5</span>, <span class="s2">&quot;</span><span class="s">partial_</span><span class="s2">&quot;</span><span class="o">+</span><span class="nv">str</span><span class="ss">(</span><span class="nv">no</span><span class="o">+</span><span class="mi">1</span><span class="ss">)))</span>
    <span class="nv">labels</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">q</span>.<span class="nv">createNewLabel</span><span class="ss">(</span><span class="mi">100</span><span class="o">*</span><span class="nv">no</span><span class="o">+</span><span class="mi">5</span>, <span class="mi">90</span>, <span class="s2">&quot;</span><span class="s">amp_part_</span><span class="s2">&quot;</span><span class="o">+</span><span class="nv">str</span><span class="ss">(</span><span class="nv">no</span><span class="o">+</span><span class="mi">1</span><span class="ss">)))</span>
</pre></div>


<p>The variables <em>knobs</em> and <em>labels</em> now contain the IDs:</p>
<div class="highlight"><pre><span></span><span class="n">py</span><span class="o">&gt;</span> <span class="n">knobs</span>
<span class="p">[</span><span class="n">u</span><span class="s1">&#39;{8d10f9e3-70ce-4953-94b5-24cf8d6f6adb}&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;{d1c98b52-a0a1-4f48-9bca-bac55dad0de7}&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;{b7bf4b76-baff-493f-bc1f-43d61c4318ac}&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;{1332208d-e479-4152-85a8-0f4e6e589d9d}&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;{428cc329-df4a-4d04-9cea-9be3e3c2a41c}&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;{1e691299-3e24-46cc-a3b6-85fdd40eac15}&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;{a93c2b27-89a8-41b2-befb-6768cae6f645}&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;{26931ed6-4c28-4819-9b31-4b9e0d9d0a68}&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;{874beb70-b619-4706-a465-12421c6c8a85}&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;{3da687a9-2794-4519-880b-53c2f3b67b1f}&#39;</span><span class="p">]</span>
<span class="n">py</span><span class="o">&gt;</span> <span class="n">labels</span>
<span class="p">[</span><span class="n">u</span><span class="s1">&#39;{9715ee01-57d5-407d-b89a-bae2fc6acecf}&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;{71295982-b5e7-4d64-9ac5-b8fbcffbd254}&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;{09e924fa-2a7c-47c6-9e17-e710c94bd2d1}&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;{2e31dbfb-f3c2-43ab-ab6a-f47abb4875a3}&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;{adfe3aef-4499-4c29-b94a-a9543e54e8a3}&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;{b5760819-f750-411d-884c-0bad16d68d09}&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;{c3884e9e-f0d8-4718-8fcb-66e82456f0b5}&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;{c1401878-e7f7-4e71-a097-e92ada42e653}&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;{a7d14879-1601-4789-9877-f636105b552c}&#39;</span><span class="p">,</span> <span class="n">u</span><span class="s1">&#39;{ec5526c4-0fda-4963-8f18-1c7490b0a667}&#39;</span>
</pre></div>


<p>Move the first knob 200 pixels downwards:</p>
<div class="highlight"><pre><span></span><span class="n">q</span><span class="p">.</span><span class="n">setWidgetProperty</span><span class="p">(</span> <span class="n">knobs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="ss">&quot;QCS_y&quot;</span><span class="p">,</span> <span class="n">q</span><span class="p">.</span><span class="n">getWidgetProperty</span><span class="p">(</span><span class="n">knobs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="ss">&quot;QCS_y&quot;</span><span class="p">)</span><span class="o">+</span><span class="mi">200</span><span class="p">)</span>
</pre></div>


<p>Modify the maximum of each knob so that the higher partials have less amplitude range (set maximum to 1, 0.9, 0.8, ..., 0.1):</p>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="nv">knob</span> <span class="nv">in</span> <span class="nv">range</span><span class="ss">(</span><span class="mi">10</span><span class="ss">)</span>:
    <span class="nv">q</span>.<span class="nv">setWidgetProperty</span><span class="ss">(</span><span class="nv">knobs</span>[<span class="nv">knob</span>], <span class="s2">&quot;</span><span class="s">QCS_maximum</span><span class="s2">&quot;</span>, <span class="mi">1</span><span class="o">-</span><span class="nv">knob</span><span class="o">/</span><span class="mi">10</span>.<span class="mi">0</span><span class="ss">)</span>
</pre></div>


<h3>Deleting widgets</h3>
<p>You can delete a widget using the method destroyWidget. You have to pass the widget's ID, again either as channel name or (better) as uuid string. This will remove the first knob in the example above:</p>
<div class="highlight"><pre><span></span><span class="n">q</span><span class="p">.</span><span class="n">destroyWidget</span><span class="p">(</span><span class="ss">&quot;partial_1&quot;</span><span class="p">)</span>
</pre></div>


<p>This will delete all knobs:</p>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="nv">w</span> <span class="nv">in</span> <span class="nv">knobs</span>:
    <span class="nv">q</span>.<span class="nv">destroyWidget</span><span class="ss">(</span><span class="nv">w</span><span class="ss">)</span>
</pre></div>


<p>And this will delete all widgets of the active document:</p>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="nv">w</span> <span class="nv">in</span> <span class="nv">q</span>.<span class="nv">getWidgetUuids</span><span class="ss">()</span>:
    <span class="nv">q</span>.<span class="nv">destroyWidget</span><span class="ss">(</span><span class="nv">w</span><span class="ss">)</span>
</pre></div>


<h3>Getting and Setting Channel Names and Values</h3>
<p>After this cruel act of destruction, let us again create a slider and a display:</p>
<div class="highlight"><pre><span></span><span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">createNewSlider</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="ss">&quot;level&quot;</span><span class="p">)</span>
<span class="n">u</span><span class="s1">&#39;{b0294b09-5c87-4607-afda-2e55a8c7526e}&#39;</span>
<span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">createNewDisplay</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="ss">&quot;message&quot;</span><span class="p">)</span>
<span class="n">u</span><span class="s1">&#39;{a51b438f-f671-4108-8cdb-982387074e4d}&#39;</span>
</pre></div>


<p>Now we will ask for the values of these widgets  with the methods getChannelValue and getChannelString:</p>
<div class="highlight"><pre><span></span><span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">getChannelValue</span><span class="p">(</span><span class="s1">&#39;level&#39;</span><span class="p">)</span>
<span class="mi">0</span><span class="p">.</span><span class="mi">0</span>
<span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">getChannelString</span><span class="p">(</span><span class="ss">&quot;level&quot;</span><span class="p">)</span> 
<span class="n">u</span><span class="s1">&#39;&#39;</span>
<span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">getChannelValue</span><span class="p">(</span><span class="s1">&#39;message&#39;</span><span class="p">)</span>
<span class="mi">0</span><span class="p">.</span><span class="mi">0</span>
<span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">getChannelString</span><span class="p">(</span><span class="s1">&#39;message&#39;</span><span class="p">)</span>
<span class="n">u</span><span class="s1">&#39;Display&#39;</span>
</pre></div>


<p>As you see, it depends on the type of the widget whether to query its value by getChannelValue or getChannelString. Although CsoundQt will not return an error, it makes no sense to ask a slider for its string (as its value is a number), and a display for its number (as its value is a string).</p>
<p>With the methods <code>setChannelValue</code> and <code>setChannelString</code> we can change the main content of a widget very easily:</p>
<div class="highlight"><pre><span></span><span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">setChannelValue</span><span class="p">(</span><span class="ss">&quot;level&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">)</span>
<span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">setChannelString</span><span class="p">(</span><span class="ss">&quot;message&quot;</span><span class="p">,</span> <span class="ss">&quot;Hey Joe again!&quot;</span><span class="p">)</span>
</pre></div>


<p>This is much more handy than the general method using setWidgetProperty:</p>
<div class="highlight"><pre><span></span><span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">setWidgetProperty</span><span class="p">(</span><span class="ss">&quot;level&quot;</span><span class="p">,</span> <span class="ss">&quot;QCS_value&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">setWidgetProperty</span><span class="p">(</span><span class="ss">&quot;message&quot;</span><span class="p">,</span> <span class="ss">&quot;QCS_label&quot;</span><span class="p">,</span> <span class="ss">&quot;Nono&quot;</span><span class="p">)</span>
</pre></div>


<h3>Presets</h3>
<p>Now right-click in the widget panel and choose Store Preset -&gt; New Preset: </p>
<p><img alt="preset" src="../images/12C_11.png"></p>
<p>You can (but need not) enter a name for the preset. The important thing here is the number of the preset (here 0). - Now change the value of the slider and the text of the display widget. Save again as preset, now being preset 1. - Now execute this:</p>
<div class="highlight"><pre><span></span><span class="n">q</span><span class="p">.</span><span class="n">loadPreset</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>


<p>You will see the content of the widgets reloaded to the first preset. Again, with</p>
<div class="highlight"><pre><span></span><span class="n">q</span><span class="p">.</span><span class="n">loadPreset</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>


<p>you can switch to the second one.</p>
<p>Like all python scripting functions in CsoundQt, you can not only use these methods from the Python Console or the Python Cratch Pad, but also from inside any csd. This is an example how to switch all the widgets to other predefined states, in this case controlled by the score. You will see the widgets for the first three seconds in Preset 0, then for the next three seconds in Preset 1, and finally again in Preset 0:</p>
<div class="highlight"><pre><span></span><span class="nt">&lt;CsoundSynthesizer&gt;</span>
<span class="nt">&lt;CsOptions&gt;</span>
-odac
<span class="nt">&lt;/CsOptions&gt;</span>
<span class="nt">&lt;CsInstruments&gt;</span>

pyinit

instr loadPreset
index = p4
pycalli &quot;q.loadPreset&quot;, index
endin

<span class="nt">&lt;/CsInstruments&gt;</span>
<span class="nt">&lt;CsScore&gt;</span>
i &quot;loadPreset&quot; 0 3 0
i &quot;loadPreset&quot; + . 1
i &quot;loadPreset&quot; + . 0
<span class="nt">&lt;/CsScore&gt;</span>
<span class="nt">&lt;/CsoundSynthesizer&gt;</span>
</pre></div>


<h2>Csound Functions</h2>
<p>Several functions can interact with the Csound engine, for example to query information about it. Note that the functions <code>getSampleRate</code>, <code>getKsmps</code>, <code>getNumChannels</code> and <code>getCurrentCsound</code> refer to a running instance of Csound.</p>
<div class="highlight"><pre><span></span><span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">getVersion</span><span class="p">()</span> <span class="o">#</span> <span class="n">CsoundQt</span> <span class="n">API</span> <span class="k">version</span>
<span class="n">u</span><span class="s1">&#39;1.0&#39;</span>
<span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">getSampleRate</span><span class="p">()</span>
<span class="mi">44100</span><span class="p">.</span><span class="mi">0</span>
<span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">getKsmps</span><span class="p">()</span>
<span class="mi">32</span>
<span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">getNumChannels</span><span class="p">()</span>
<span class="mi">1</span>
<span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">getCurrentCsound</span><span class="p">()</span>
<span class="n">CSOUND</span> <span class="p">(</span><span class="k">C</span><span class="o">++</span> <span class="k">object</span> <span class="k">at</span><span class="p">:</span> <span class="mi">0</span><span class="n">x2fb5670</span><span class="p">)</span>
</pre></div>


<p>With <code>getCsChannel</code>, <code>getCsStringChannel</code> and <code>setCsChannel</code> you can access csound channels directly, independently from widgets. They are useful when testing a csd for use with the Csound API (in another application, a csLapdsa or Cabbage plugin, Android application) or similar. These are some examples, executed on a running csd instance:</p>
<div class="highlight"><pre><span></span><span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">getCsChannel</span><span class="p">(</span><span class="s1">&#39;my_num_chn&#39;</span><span class="p">)</span>
<span class="mi">0</span><span class="p">.</span><span class="mi">0</span>
<span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">getCsStringChannel</span><span class="p">(</span><span class="s1">&#39;my_str_chn&#39;</span><span class="p">)</span>
<span class="n">u</span><span class="s1">&#39;&#39;</span>

<span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">setCsChannel</span><span class="p">(</span><span class="s1">&#39;my_num_chn&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">1</span><span class="p">)</span>
<span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">setCsChannel</span><span class="p">(</span><span class="s1">&#39;my_str_chn&#39;</span><span class="p">,</span> <span class="s1">&#39;Hey Csound&#39;</span><span class="p">)</span>

<span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">getCsChannel</span><span class="p">(</span><span class="s1">&#39;my_num_chn&#39;</span><span class="p">)</span>
<span class="mi">1</span><span class="p">.</span><span class="mi">1</span>
<span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">getCsStringChannel</span><span class="p">(</span><span class="s1">&#39;my_str_chn&#39;</span><span class="p">)</span>
<span class="n">u</span><span class="s1">&#39;Hey Csound&#39;</span>
</pre></div>


<p>If you have a function table in your running Csound instance which has for instance been created with the line <code>giSine ftgen 1, 0, 1024, 10, 1</code>, you can query getTableArray like this: </p>
<div class="highlight"><pre><span></span><span class="n">py</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">.</span><span class="n">getTableArray</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">MYFLT</span> <span class="p">(</span><span class="k">C</span><span class="o">++</span> <span class="k">object</span> <span class="k">at</span><span class="p">:</span> <span class="mi">0</span><span class="n">x35d1c58</span><span class="p">)</span>
</pre></div>


<p>Finally, you can register a Python function as a callback to be executed in between processing blocks for Csound. The first argument should be the text that should be called on every pass. It can include arguments or variables which will be evaluated every time. You can also set a number of periods to skip to avoid.</p>
<div class="highlight"><pre><span></span><span class="n">registerProcessCallback</span><span class="p">(</span><span class="n">QString</span> <span class="n">func</span><span class="p">,</span> <span class="nb">int</span> <span class="n">skipPeriods</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>


<p>You can register the python text to be executed on every Csound control block callback, so you can execute a block of code, or call any function which is already defined. </p>
<h2>Creating Own GUIs with PythonQt</h2>
<p>One of the very powerful features of using Python inside CsoundQt is the ability to build own GUIs. This is done via the PythonQt library which gives you access to the Qt toolkit via Python. We will show some examples here. Have a look in the "Scripts" menu in CsoundQt to find much more (you will find the code in the "Editor" submenu).</p>
<h3>Dialog Box</h3>
<p>Sometimes it is practical to ask from user just one question - number or name of something and then execute the rest of the code (it can be done also inside a csd with python opcodes). In Qt, the class to create a dialog for one question is called <em>QInputDialog</em>.</p>
<p>To use this or any other Qt classes, it is necessary to import the PythonQt and its Qt submodules. In most cases it is enough to add this line:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PythonQt.Qt</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>


<p>or</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PythonQt.QtGui</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>


<p>At first an object of QInputDialog must be defined, then you can use its methods getInt, getDouble, getItem or getText to read the input in the form you need. This is a basic example:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PythonQt.Qt</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">inpdia</span> <span class="o">=</span> <span class="n">QInputDialog</span><span class="p">()</span>
<span class="n">myInt</span> <span class="o">=</span> <span class="n">inpdia</span><span class="o">.</span><span class="n">getInt</span><span class="p">(</span><span class="n">inpdia</span><span class="p">,</span><span class="s2">&quot;Example 1&quot;</span><span class="p">,</span><span class="s2">&quot;How many?&quot;</span><span class="p">)</span>
<span class="k">print</span> <span class="n">myInt</span>
</pre></div>


<p>Note that the variable <em>myInt</em> is now set to a value which remains in your Python interpreter. Your Python Console may look like this when executing the code above, and then ask for the value of <em>myInt</em>:</p>
<div class="highlight"><pre><span></span><span class="n">py</span><span class="o">&gt;</span>
<span class="mi">12</span>
<span class="n">Evaluated</span> <span class="mi">5</span> <span class="n">lines</span><span class="p">.</span>
<span class="n">py</span><span class="o">&gt;</span> <span class="n">myInt</span>
<span class="mi">12</span>
</pre></div>


<p>Depending on the value of <em>myInt</em>, you can do funny or serious things. This code re-creates the Dialog Box whenever the user enters the number 1:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PythonQt.Qt</span> <span class="kn">import</span> <span class="o">*</span>

<span class="k">def</span> <span class="nf">again</span><span class="p">():</span>
    <span class="n">inpdia</span> <span class="o">=</span> <span class="n">QInputDialog</span><span class="p">()</span>
    <span class="n">myInt</span> <span class="o">=</span> <span class="n">inpdia</span><span class="o">.</span><span class="n">getInt</span><span class="p">(</span><span class="n">inpdia</span><span class="p">,</span><span class="s2">&quot;Example 1&quot;</span><span class="p">,</span><span class="s2">&quot;How many?&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">myInt</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">print</span> <span class="s2">&quot;If you continue to enter &#39;1&#39; I will come back again and again.&quot;</span>
        <span class="n">again</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span> <span class="s2">&quot;Thanks - Leaving now.&quot;</span>
<span class="n">again</span><span class="p">()</span>
</pre></div>


<p>This is a simple example showing how you can embed an own GUI in your Csound code. Here, Csound waits for the user input, and the prints out the entered value as the Csound variable giNumber:</p>
<div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">CsoundSynthesizer</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">CsOptions</span><span class="o">&gt;</span>
<span class="o">-</span><span class="n">n</span>
<span class="o">&lt;/</span><span class="n">CsOptions</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">CsInstruments</span><span class="o">&gt;</span>

<span class="n">pyinit</span>
<span class="n">pyruni</span> <span class="p">{{</span>
<span class="kn">from</span> <span class="nn">PythonQt.Qt</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">dia</span> <span class="o">=</span> <span class="n">QInputDialog</span><span class="p">()</span>
<span class="n">dia</span><span class="o">.</span><span class="n">setDoubleDecimals</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="p">}}</span>

<span class="n">giNumber</span> <span class="n">pyevali</span> <span class="p">{{</span>
<span class="n">dia</span><span class="o">.</span><span class="n">getDouble</span><span class="p">(</span><span class="n">dia</span><span class="p">,</span><span class="s2">&quot;CS question&quot;</span><span class="p">,</span><span class="s2">&quot;Enter number: &quot;</span><span class="p">)</span>
<span class="p">}}</span> <span class="p">;</span> <span class="n">get</span> <span class="n">the</span> <span class="n">number</span> <span class="kn">from</span> <span class="nn">Qt</span> <span class="nn">dialog</span>

<span class="n">instr</span> <span class="mi">1</span>
<span class="k">print</span> <span class="n">giNumber</span>
<span class="n">endin</span>

<span class="o">&lt;/</span><span class="n">CsInstruments</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">CsScore</span><span class="o">&gt;</span>
<span class="n">i</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span>
<span class="o">&lt;/</span><span class="n">CsScore</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">CsoundSynthesizer</span><span class="o">&gt;</span>
</pre></div>


<h3>Simple GUI with Buttons</h3>
<p>The next example takes the user input (as a string) and transforms it to a sounding sequence of notes. First, make sure that the following csd is your active tab in CsoundQt:</p>
<div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nv">CsoundSynthesizer</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nv">CsInstruments</span><span class="o">&gt;</span>

<span class="nv">sr</span> <span class="o">=</span> <span class="mi">44100</span>
<span class="nv">nchnls</span> <span class="o">=</span> <span class="mi">2</span>
<span class="mi">0</span><span class="nv">dbfs</span> <span class="o">=</span> <span class="mi">1</span>
<span class="nv">ksmps</span> <span class="o">=</span> <span class="mi">32</span>

<span class="nv">giSine</span> <span class="nv">ftgen</span> <span class="mi">1</span>, <span class="mi">0</span>, <span class="mi">4096</span>, <span class="mi">10</span>, <span class="mi">1</span> <span class="c1">; sine</span>


#<span class="nv">define</span> <span class="nv">MAINJOB</span><span class="ss">(</span><span class="nv">INSTNO</span><span class="ss">)</span> #
<span class="nv">Sstr</span> <span class="nv">strget</span> <span class="nv">p4</span>
<span class="nv">ilen</span> <span class="k">strlen</span> <span class="nv">Sstr</span>
<span class="nv">ipos</span> <span class="o">=</span> <span class="mi">0</span>
<span class="nv">marker</span>:   <span class="c1">; convert every character in the string to pitch</span>
    <span class="nv">ichr</span> <span class="nv">strchar</span> <span class="nv">Sstr</span>, <span class="nv">ipos</span>
    <span class="nv">icps</span> <span class="o">=</span> <span class="nv">cpsmidinn</span><span class="ss">(</span><span class="nv">ichr</span><span class="ss">)</span><span class="o">-</span>$<span class="nv">INSTNO</span><span class="o">*</span><span class="mi">8</span>
    <span class="c1">;print icps</span>
    <span class="nv">event_i</span> <span class="s2">&quot;</span><span class="s">i</span><span class="s2">&quot;</span>, <span class="s2">&quot;</span><span class="s">sound</span><span class="s2">&quot;</span>, <span class="mi">0</span><span class="o">+</span><span class="nv">ipos</span><span class="o">/</span><span class="mi">8</span>, <span class="nv">p3</span>, <span class="nv">ichr</span>,<span class="nv">icps</span>, $<span class="nv">INSTNO</span> <span class="c1">; chord with arpeggio</span>
    <span class="nv">loop_lt</span> <span class="nv">ipos</span>, <span class="mi">1</span>, <span class="nv">ilen</span>, <span class="nv">marker</span>
#

<span class="nv">instr</span> <span class="mi">1</span>
$<span class="nv">MAINJOB</span><span class="ss">(</span><span class="mi">1</span><span class="ss">)</span> 
<span class="nv">endin</span>

<span class="nv">instr</span> <span class="mi">2</span>
$<span class="nv">MAINJOB</span><span class="ss">(</span><span class="mi">2</span><span class="ss">)</span> 
<span class="nv">endin</span>

<span class="nv">instr</span> <span class="mi">3</span>
$<span class="nv">MAINJOB</span><span class="ss">(</span><span class="mi">3</span><span class="ss">)</span> 
<span class="nv">endin</span>

<span class="nv">instr</span> <span class="nv">sound</span>
<span class="nv">ichar</span> <span class="o">=</span> <span class="nv">p4</span>
<span class="nv">ifreq</span> <span class="o">=</span> <span class="nv">p5</span>
<span class="nv">itype</span> <span class="o">=</span> <span class="nv">p6</span>
<span class="nv">kenv</span> <span class="nv">linen</span> <span class="mi">0</span>.<span class="mi">1</span>,<span class="mi">0</span>.<span class="mi">1</span>, <span class="nv">p3</span>,<span class="mi">0</span>.<span class="mi">5</span>  
<span class="k">if</span> <span class="nv">itype</span><span class="o">==</span> <span class="mi">1</span> <span class="k">then</span>
    <span class="nv">asig</span> <span class="nv">pluck</span> <span class="nv">kenv</span>,<span class="nv">ifreq</span>,<span class="nv">ifreq</span>,<span class="mi">0</span>, <span class="mi">3</span>, <span class="mi">0</span>
<span class="k">elseif</span> <span class="nv">itype</span><span class="o">==</span><span class="mi">2</span> <span class="k">then</span>
    <span class="nv">kenv</span> <span class="nv">adsr</span> <span class="mi">0</span>.<span class="mi">05</span>,<span class="mi">0</span>.<span class="mi">1</span>,<span class="mi">0</span>.<span class="mi">5</span>,<span class="mi">1</span>
    <span class="nv">asig</span> <span class="nv">poscil</span> <span class="nv">kenv</span><span class="o">*</span><span class="mi">0</span>.<span class="mi">1</span>,<span class="nv">ifreq</span>,<span class="nv">giSine</span>
<span class="k">else</span>
    <span class="nv">asig</span>    <span class="nv">buzz</span> <span class="nv">kenv</span>,<span class="nv">ifreq</span>,<span class="mi">10</span>, <span class="nv">giSine</span>
<span class="k">endif</span>
<span class="nv">outs</span> <span class="nv">asig</span>,<span class="nv">asig</span>
<span class="nv">endin</span>

<span class="o">&lt;/</span><span class="nv">CsInstruments</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nv">CsScore</span><span class="o">&gt;</span>
<span class="nv">f0</span> <span class="mi">3600</span>
<span class="nv">i</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">4</span> <span class="s2">&quot;</span><span class="s">huhuu</span><span class="s2">&quot;</span>
<span class="o">&lt;/</span><span class="nv">CsScore</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="nv">CsoundSynthesizer</span><span class="o">&gt;</span>
</pre></div>


<p>Now copy this Python code into your Python Scratch Pad and evaluate it. Then type anything in the "type here" box and push the "insert" button. After pushing "play", the string will be played. You can also send the string as real-time event, to different instruments, in different durations.</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PythonQt.Qt</span> <span class="kn">import</span> <span class="o">*</span>

<span class="c1"># FUNCTIONS==============================</span>

<span class="k">def</span> <span class="nf">insert</span><span class="p">():</span> <span class="c1"># read input from UI and insert a line to score of csd file, open in CsoundQt with index csdIndex</span>
    <span class="n">scoreLine</span> <span class="o">=</span> <span class="s2">&quot;f0 3600</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;i &quot;</span> <span class="o">+</span> <span class="n">instrSpinBox</span><span class="o">.</span><span class="n">text</span> <span class="o">+</span> <span class="s2">&quot; 0 &quot;</span> <span class="o">+</span> <span class="n">durSpinBox</span><span class="o">.</span><span class="n">text</span> <span class="o">+</span> <span class="s1">&#39; &quot;&#39;</span> <span class="o">+</span> <span class="n">par1LineEdit</span><span class="o">.</span><span class="n">text</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
    <span class="k">print</span> <span class="n">scoreLine</span>
    <span class="n">q</span><span class="o">.</span><span class="n">setSco</span><span class="p">(</span><span class="n">scoreLine</span><span class="p">,</span> <span class="n">csdIndex</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">play</span><span class="p">():</span> <span class="c1"># play file with index csdIndex</span>
    <span class="k">print</span> <span class="s2">&quot;PLAY&quot;</span>
    <span class="n">q</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">csdIndex</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">send</span><span class="p">():</span> <span class="c1"># read input from UI send live event</span>
    <span class="n">scoreLine</span> <span class="o">=</span> <span class="s2">&quot;i &quot;</span> <span class="o">+</span> <span class="n">instrSpinBox</span><span class="o">.</span><span class="n">text</span> <span class="o">+</span> <span class="s2">&quot; 0 &quot;</span> <span class="o">+</span> <span class="n">durSpinBox</span><span class="o">.</span><span class="n">text</span> <span class="o">+</span> <span class="s1">&#39; &quot;&#39;</span> <span class="o">+</span> <span class="n">par1LineEdit</span><span class="o">.</span><span class="n">text</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
    <span class="k">print</span> <span class="n">scoreLine</span>
    <span class="n">q</span><span class="o">.</span><span class="n">sendEvent</span><span class="p">(</span><span class="n">csdIndex</span><span class="p">,</span> <span class="n">scoreLine</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">stopAndClose</span><span class="p">():</span> <span class="c1">#stop csdIndex, close UI</span>
    <span class="k">print</span> <span class="s2">&quot;STOP&quot;</span>
    <span class="n">q</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span><span class="n">csdIndex</span><span class="p">)</span>
    <span class="n">window</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>


<span class="c1"># MAIN ====================================</span>

<span class="n">window</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span> <span class="c1"># window as main widget</span>
<span class="n">layout</span> <span class="o">=</span> <span class="n">QGridLayout</span><span class="p">(</span><span class="n">window</span><span class="p">)</span> <span class="c1"># use gridLayout - the most flexible one - to place the widgets in a table-like structure</span>
<span class="n">window</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
<span class="n">window</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;PythonQt inteface example&quot;</span><span class="p">)</span>

<span class="n">instrLabel</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Select instrument&quot;</span><span class="p">)</span>
<span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">instrLabel</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="c1"># first row, first column</span>

<span class="n">instrSpinBox</span> <span class="o">=</span> <span class="n">QSpinBox</span><span class="p">(</span><span class="n">window</span><span class="p">)</span>
<span class="n">instrSpinBox</span><span class="o">.</span><span class="n">setMinimum</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">instrSpinBox</span><span class="o">.</span><span class="n">setMaximum</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">instrSpinBox</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># first row, second column</span>

<span class="n">durLabel</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Duration: &quot;</span><span class="p">)</span>
<span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">durLabel</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># etc</span>

<span class="n">durSpinBox</span> <span class="o">=</span> <span class="n">QSpinBox</span><span class="p">(</span><span class="n">window</span><span class="p">)</span>
<span class="n">durSpinBox</span><span class="o">.</span><span class="n">setMinimum</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">durSpinBox</span><span class="o">.</span><span class="n">setMaximum</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="n">durSpinBox</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">durSpinBox</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="n">par1Label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Enter string for parameter 1: &quot;</span><span class="p">)</span>
<span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">par1Label</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

<span class="n">par1LineEdit</span> <span class="o">=</span> <span class="n">QLineEdit</span><span class="p">(</span><span class="n">window</span><span class="p">)</span>
<span class="n">par1LineEdit</span><span class="o">.</span><span class="n">setMaxLength</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="c1"># don&#39;t allow too long strings</span>
<span class="n">par1LineEdit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;type here&quot;</span><span class="p">)</span>
<span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">par1LineEdit</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

<span class="n">insertButton</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Insert&quot;</span><span class="p">,</span><span class="n">window</span><span class="p">)</span>
<span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">insertButton</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

<span class="n">playButton</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Play&quot;</span><span class="p">,</span><span class="n">window</span><span class="p">)</span>
<span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">playButton</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

<span class="n">sendButton</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Send event&quot;</span><span class="p">,</span><span class="n">window</span><span class="p">)</span>
<span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">sendButton</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

<span class="n">closeButton</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Close&quot;</span><span class="p">,</span><span class="n">window</span><span class="p">)</span>
<span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">closeButton</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># connect buttons and functions  ================</span>
<span class="c1">#NB! function names must be  without parenthesis!</span>
<span class="c1"># number and type of arguments of the signal and slot (called function) must match</span>

<span class="n">insertButton</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;clicked()&quot;</span><span class="p">),</span><span class="n">insert</span> <span class="p">)</span> <span class="c1"># when clicked, run function insert()</span>
<span class="n">playButton</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;clicked()&quot;</span><span class="p">),</span><span class="n">play</span><span class="p">)</span>  <span class="c1">#etc</span>
<span class="n">sendButton</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;clicked()&quot;</span><span class="p">),</span><span class="n">send</span><span class="p">)</span>
<span class="n">closeButton</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;clicked()&quot;</span><span class="p">),</span><span class="n">stopAndClose</span><span class="p">)</span>

<span class="n">window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span> <span class="c1"># show the window and wait for clicks on buttons</span>
</pre></div>


<p>Another nice example of Tarmo Johannes, <em>color-controller.py</em>, is included in the CsoundQt application.</p>
<h2>List of PyQcsObject Methods in CsoundQt</h2>
<h3>Load/Create/Activate a csd File</h3>
<div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">loadDocument</span><span class="p">(</span><span class="n">QString</span> <span class="n">name</span><span class="p">,</span> <span class="n">bool</span> <span class="n">runNow</span> <span class="o">=</span> <span class="k">false</span><span class="p">)</span>
<span class="nb">int</span> <span class="n">getDocument</span><span class="p">(</span><span class="n">QString</span> <span class="n">name</span> <span class="o">=</span> <span class="ss">&quot;&quot;</span><span class="p">)</span>
<span class="nb">int</span> <span class="n">newDocument</span><span class="p">(</span><span class="n">QString</span> <span class="n">name</span><span class="p">)</span>
<span class="n">void</span> <span class="n">setDocument</span><span class="p">(</span><span class="nb">int</span> <span class="k">index</span><span class="p">)</span>
</pre></div>


<h3>Play/Pause/Stop a csd File</h3>
<div class="highlight"><pre><span></span><span class="nv">void</span> <span class="nv">play</span><span class="ss">(</span><span class="nv">int</span> <span class="nv">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>, <span class="nv">bool</span> <span class="nv">realtime</span> <span class="o">=</span> <span class="nv">true</span><span class="ss">)</span>
<span class="nv">void</span> <span class="k">pause</span><span class="ss">(</span><span class="nv">int</span> <span class="nv">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="ss">)</span>
<span class="nv">void</span> <span class="nv">stop</span><span class="ss">(</span><span class="nv">int</span> <span class="nv">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="ss">)</span>
<span class="nv">void</span> <span class="nv">stopAll</span><span class="ss">()</span>
</pre></div>


<h3>Send Score Events</h3>
<div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">sendEvent</span><span class="p">(</span><span class="nb">int</span> <span class="k">index</span><span class="p">,</span> <span class="n">QString</span> <span class="n">events</span><span class="p">)</span>
<span class="n">void</span> <span class="n">sendEvent</span><span class="p">(</span><span class="n">QString</span> <span class="n">events</span><span class="p">)</span>
<span class="n">void</span> <span class="n">schedule</span><span class="p">(</span><span class="n">QVariant</span> <span class="n">time</span><span class="p">,</span> <span class="n">QVariant</span> <span class="n">event</span><span class="p">)</span>
</pre></div>


<h3>Query File Name/Path</h3>
<div class="highlight"><pre><span></span><span class="n">QString</span> <span class="n">getFileName</span><span class="p">(</span><span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QString</span> <span class="n">getFilePath</span><span class="p">(</span><span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>


<h3>Get csd Text</h3>
<div class="highlight"><pre><span></span><span class="n">QString</span> <span class="n">getSelectedText</span><span class="p">(</span><span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nb">int</span> <span class="n">section</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QString</span> <span class="n">getCsd</span><span class="p">(</span><span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QString</span> <span class="n">getFullText</span><span class="p">(</span><span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QString</span> <span class="n">getOrc</span><span class="p">(</span><span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QString</span> <span class="n">getSco</span><span class="p">(</span><span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QString</span> <span class="n">getWidgetsText</span><span class="p">(</span><span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QString</span> <span class="n">getSelectedWidgetsText</span><span class="p">(</span><span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QString</span> <span class="n">getPresetsText</span><span class="p">(</span><span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QString</span> <span class="n">getOptionsText</span><span class="p">(</span><span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>


<h3>Set csd Text</h3>
<div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">insertText</span><span class="p">(</span><span class="n">QString</span> <span class="nb">text</span><span class="p">,</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nb">int</span> <span class="n">section</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">void</span> <span class="n">setCsd</span><span class="p">(</span><span class="n">QString</span> <span class="nb">text</span><span class="p">,</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">void</span> <span class="n">setFullText</span><span class="p">(</span><span class="n">QString</span> <span class="nb">text</span><span class="p">,</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">void</span> <span class="n">setOrc</span><span class="p">(</span><span class="n">QString</span> <span class="nb">text</span><span class="p">,</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">void</span> <span class="n">setSco</span><span class="p">(</span><span class="n">QString</span> <span class="nb">text</span><span class="p">,</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">void</span> <span class="n">setWidgetsText</span><span class="p">(</span><span class="n">QString</span> <span class="nb">text</span><span class="p">,</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">void</span> <span class="n">setPresetsText</span><span class="p">(</span><span class="n">QString</span> <span class="nb">text</span><span class="p">,</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">void</span> <span class="n">setOptionsText</span><span class="p">(</span><span class="n">QString</span> <span class="nb">text</span><span class="p">,</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>


<h3>Opcode Exists</h3>
<div class="highlight"><pre><span></span><span class="n">bool</span> <span class="n">opcodeExists</span><span class="p">(</span><span class="n">QString</span> <span class="n">opcodeName</span><span class="p">)</span>
</pre></div>


<h3>Create Widgets</h3>
<div class="highlight"><pre><span></span><span class="n">QString</span> <span class="n">createNewLabel</span><span class="p">(</span><span class="nb">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">QString</span> <span class="n">channel</span> <span class="o">=</span> <span class="n">QString</span><span class="p">(),</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QString</span> <span class="n">createNewDisplay</span><span class="p">(</span><span class="nb">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">QString</span> <span class="n">channel</span> <span class="o">=</span> <span class="n">QString</span><span class="p">(),</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QString</span> <span class="n">createNewScrollNumber</span><span class="p">(</span><span class="nb">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">QString</span> <span class="n">channel</span> <span class="o">=</span> <span class="n">QString</span><span class="p">(),</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QString</span> <span class="n">createNewLineEdit</span><span class="p">(</span><span class="nb">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">QString</span> <span class="n">channel</span> <span class="o">=</span> <span class="n">QString</span><span class="p">(),</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QString</span> <span class="n">createNewSpinBox</span><span class="p">(</span><span class="nb">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">QString</span> <span class="n">channel</span> <span class="o">=</span> <span class="n">QString</span><span class="p">(),</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QString</span> <span class="n">createNewSlider</span><span class="p">(</span><span class="n">QString</span> <span class="n">channel</span><span class="p">,</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QString</span> <span class="n">createNewSlider</span><span class="p">(</span><span class="nb">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">QString</span> <span class="n">channel</span> <span class="o">=</span> <span class="n">QString</span><span class="p">(),</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QString</span> <span class="n">createNewButton</span><span class="p">(</span><span class="nb">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">QString</span> <span class="n">channel</span> <span class="o">=</span> <span class="n">QString</span><span class="p">(),</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QString</span> <span class="n">createNewKnob</span><span class="p">(</span><span class="nb">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">QString</span> <span class="n">channel</span> <span class="o">=</span> <span class="n">QString</span><span class="p">(),</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QString</span> <span class="n">createNewCheckBox</span><span class="p">(</span><span class="nb">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">QString</span> <span class="n">channel</span> <span class="o">=</span> <span class="n">QString</span><span class="p">(),</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QString</span> <span class="n">createNewMenu</span><span class="p">(</span><span class="nb">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">QString</span> <span class="n">channel</span> <span class="o">=</span> <span class="n">QString</span><span class="p">(),</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QString</span> <span class="n">createNewMeter</span><span class="p">(</span><span class="nb">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">QString</span> <span class="n">channel</span> <span class="o">=</span> <span class="n">QString</span><span class="p">(),</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QString</span> <span class="n">createNewConsole</span><span class="p">(</span><span class="nb">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">QString</span> <span class="n">channel</span> <span class="o">=</span> <span class="n">QString</span><span class="p">(),</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QString</span> <span class="n">createNewGraph</span><span class="p">(</span><span class="nb">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">QString</span> <span class="n">channel</span> <span class="o">=</span> <span class="n">QString</span><span class="p">(),</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QString</span> <span class="n">createNewScope</span><span class="p">(</span><span class="nb">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">QString</span> <span class="n">channel</span> <span class="o">=</span> <span class="n">QString</span><span class="p">(),</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>


<h3>Query Widgets</h3>
<div class="highlight"><pre><span></span><span class="n">QVariant</span> <span class="n">getWidgetProperty</span><span class="p">(</span><span class="n">QString</span> <span class="n">widgetid</span><span class="p">,</span> <span class="n">QString</span> <span class="n">property</span><span class="p">,</span> <span class="nb">int</span> <span class="k">index</span><span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">double</span> <span class="n">getChannelValue</span><span class="p">(</span><span class="n">QString</span> <span class="n">channel</span><span class="p">,</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QString</span> <span class="n">getChannelString</span><span class="p">(</span><span class="n">QString</span> <span class="n">channel</span><span class="p">,</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QStringList</span> <span class="n">listWidgetProperties</span><span class="p">(</span><span class="n">QString</span> <span class="n">widgetid</span><span class="p">,</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QStringList</span> <span class="n">getWidgetUuids</span><span class="p">(</span><span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>


<h3>Modify Widgets</h3>
<div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">setWidgetProperty</span><span class="p">(</span><span class="n">QString</span> <span class="n">widgetid</span><span class="p">,</span> <span class="n">QString</span> <span class="n">property</span><span class="p">,</span> <span class="n">QVariant</span> <span class="n">value</span><span class="p">,</span> <span class="nb">int</span> <span class="k">index</span><span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">void</span> <span class="n">setChannelValue</span><span class="p">(</span><span class="n">QString</span> <span class="n">channel</span><span class="p">,</span> <span class="n">double</span> <span class="n">value</span><span class="p">,</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">void</span> <span class="n">setChannelString</span><span class="p">(</span><span class="n">QString</span> <span class="n">channel</span><span class="p">,</span> <span class="n">QString</span> <span class="n">value</span><span class="p">,</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>


<h3>Delete Widgets</h3>
<div class="highlight"><pre><span></span><span class="n">bool</span> <span class="n">destroyWidget</span><span class="p">(</span><span class="n">QString</span> <span class="n">widgetid</span><span class="p">)</span>
</pre></div>


<h3>Presets</h3>
<div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">loadPreset</span><span class="p">(</span><span class="nb">int</span> <span class="n">presetIndex</span><span class="p">,</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>


<h3>Live Event Sheet</h3>
<div class="highlight"><pre><span></span><span class="n">QuteSheet</span><span class="o">*</span> <span class="n">getSheet</span><span class="p">(</span><span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nb">int</span> <span class="n">sheetIndex</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QuteSheet</span><span class="o">*</span> <span class="n">getSheet</span><span class="p">(</span><span class="nb">int</span> <span class="k">index</span><span class="p">,</span> <span class="n">QString</span> <span class="n">sheetName</span><span class="p">)</span>
</pre></div>


<h3>Csound / API</h3>
<div class="highlight"><pre><span></span><span class="n">QString</span> <span class="n">getVersion</span><span class="p">()</span>
<span class="n">void</span> <span class="n">refresh</span><span class="p">()</span>
<span class="n">void</span> <span class="n">setCsChannel</span><span class="p">(</span><span class="n">QString</span> <span class="n">channel</span><span class="p">,</span> <span class="n">double</span> <span class="n">value</span><span class="p">,</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">void</span> <span class="n">setCsChannel</span><span class="p">(</span><span class="n">QString</span> <span class="n">channel</span><span class="p">,</span> <span class="n">QString</span> <span class="n">value</span><span class="p">,</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">double</span> <span class="n">getCsChannel</span><span class="p">(</span><span class="n">QString</span> <span class="n">channel</span><span class="p">,</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">QString</span> <span class="n">getCsStringChannel</span><span class="p">(</span><span class="n">QString</span> <span class="n">channel</span><span class="p">,</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">CSOUND</span><span class="o">*</span> <span class="n">getCurrentCsound</span><span class="p">()</span>
<span class="n">double</span> <span class="n">getSampleRate</span><span class="p">(</span><span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">int</span> <span class="n">getKsmps</span><span class="p">(</span><span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">int</span> <span class="n">getNumChannels</span><span class="p">(</span><span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">MYFLT</span> <span class="o">*</span><span class="n">getTableArray</span><span class="p">(</span><span class="nb">int</span> <span class="n">ftable</span><span class="p">,</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">void</span> <span class="n">registerProcessCallback</span><span class="p">(</span><span class="n">QString</span> <span class="n">func</span><span class="p">,</span> <span class="nb">int</span> <span class="n">skipPeriods</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">int</span> <span class="k">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

       </div><!-- /.row -->
    </div><!-- /.container -->


       <div class="container.nopad bg">

    
        <footer id="credits" class="row">
          <div class="seven columns left-center">

                   <address id="about" class="vcard body">
                    Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                    which takes great advantage of <a href="http://python.org">Python</a>.
                    <br />
                    Based on the <a target="_blank" href="http://gumbyframework.com">Gumby Framework</a>
                    </address>
          </div>


          <div class="seven columns">
            <div class="row">
              <ul class="socbtns">





              </ul>
            </div>
          </div>
        </footer>

    </div>


  <script src="../theme/js/libs/jquery-1.9.1.min.js"></script>
  <script src="../theme/js/libs/gumby.min.js"></script>
  <script src="../theme/js/plugins.js"></script>

</body>
</html>